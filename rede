from usuario import Usuario
from conta import Conta


class Rede:
  def __init__(self):
    self.nome= None
    self.fundadores= None
    self.usuarios= []
    self.contas= []
    self.emails= []
  
  def get_nome(self):
    return(self.nome)
  
  def get_fundadores(self):
    return(self.fundadores)
  
  def get_usuarios(self):
    return(self.usuarios)
  
  def get_contas(self):
    return(self.contas)
  
  def get_emails(self):
    return(self.emails)
  
  def cadastrar_usuario(self,nome,email,senha,idade,profissao):
    if email in self.emails:
      print("Email já existe")
    elif len(senha)<6:
      print("A senha deve conter no minimo 6 caracteres")
    else:
      novo_usuario= Usuario(nome,email,idade,profissao)
      self.usuarios.append(novo_usuario)
      self.emails.append(email)
      nova_conta= Conta(email,senha)
      self.contas.append(nova_conta)
      print("Usuario cadastrado com sucesso")

  def mostrar_usuarios(self):
    print(self.emails)

  def logar(self,email,senha):
    if email in self.emails:
      for c in self.contas:
        if c.email == email:
          if c.senha == senha:
            print("Login efetuado com sucesso")
          else:
            print("Senha incorreta")
        else:
          pass
    else:
      print("Email não cadastrado")
  
  def menu(self):
    
    
    print("☝ BEM-VINDO A REDE SOCIAL ✌" )
    opçao = -1
    while(opçao != 'x'):
      print("1- Cadastrar usuário")
      print("2- Fazer login")
      print("3- Mostrar usuarios")
      print('x- Sair')
      opçao= input("Digite a opção")
    
      if opçao == '1':
        nome= input("Digite seu nome")
        email= input("Digite o email")
        senha= input("Digite a senha, deve conter no minimo 6 caracteres")
        idade= input("Digite a idade")
        profissao= input("Digite a profissao")
        self.cadastrar_usuario(nome,email,senha,idade,profissao)
      
      if opçao == '2':
        email= input("Digite o email")
        senha= input("Digite a senha")
        self.logar(email,senha)
      
      if opçao == '3':
        self.mostrar_usuarios()
